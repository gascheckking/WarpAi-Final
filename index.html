<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Uppdaterad CSP fÃ¶r att tillÃ¥ta nÃ¶dvÃ¤ndiga resurser -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-eval' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self' https://base-mainnet.g.alchemy.com wss://*.walletconnect.com wss://*.walletconnect.org;">
  <title>WarpAi</title>
  <link rel="stylesheet" href="style.css" />
  <!-- SÃ¤kra nycklar -->
  <meta name="alchemy-key" content="aH4-X2bNp1BarPcBcHiWR6vHxJz_lGbA">
  <meta name="etherscan-key" content="Y1VRJKQB1A4K2JTA8GE1YDH3W54W4I35D5">
</head>
<body>
  <div id="onboardingOverlay" class="fade-in-logo">
    <div class="onboarding-content">
      <img src="logo.png" alt="WarpAi Logo" />
    </div>
  </div>

  <div id="appContent" style="display: none;">
    <header class="app-header">
      <div class="logo-title">
        <img src="logo.png" alt="WarpAi Logo" class="logo-icon-fixed" />
      </div>
      <div class="wallet-ui">
        <div class="wallet-status">
          <span id="xpDisplay">0 XP ğŸ”¥</span>
          <div id="walletUI">
            <span id="walletAddress">Not Connected</span>
            <button id="connectWallet">Connect Wallet</button>
          </div>
        </div>
        <div class="settings-wrapper">
          <button id="settingsBtn" class="settings-icon">âš™ï¸</button>
          <div id="settingsMenu" class="settings-dropdown">
            <label><input type="checkbox" id="toggleTheme" /> Dark Mode</label>
            <hr />
            <button>ğŸ”” Notifications</button>
            <button>ğŸŒ Language: English</button>
            <button>ğŸ“² Device Settings</button>
            <button>ğŸšª Disconnect</button>
          </div>
        </div>
      </div>
    </header>

    <nav class="nav-tabs">
      <button class="tab-button active" data-tab="home">ğŸ  Home</button>
      <button class="tab-button" data-tab="track">ğŸ“ˆ Track</button>
      <button class="tab-button" data-tab="rewards">ğŸ Rewards</button>
      <button class="tab-button" data-tab="premium">ğŸ’ Premium</button>
      <button class="tab-button" data-tab="profile">ğŸ‘¤ Profile</button>
    </nav>

    <main>
      <!-- HOME -->
      <section class="tab-content home" data-tab="home" style="display: block;">
        <div class="custom-home-grid">
          <div class="card dark tall">
            <h3>ğŸ¯ Your Activity</h3>
            <p>XP: <span id="currentXP">ğŸ”¥ 0 XP</span><br>Streak: 5 days<br>Claimed: âœ…</p>
            <button id="claimXpBtn">Claim XP</button>
          </div> 
           <div class="card dark">
      <h3>ğŸ’° Claim WAI</h3>
      <p>Daily reward: 5 WAI</p>
      <button id="claimTokenBtn">Claim</button>
    </div>
          
          <div class="card dark">
            <h3>ğŸ† Level & Bonus</h3>
            <p>Level 1 â†’ 200 XP</p>
            <div class="xp-bar small">
              <div class="xp-fill" style="width: 0%;"></div>
            </div>
            <small>Bonus: +10%</small>
          </div>
          <div class="card dark">
            <h3>ğŸ”— Referral & Earn</h3>
            <p>Earn WAI for every invite</p>
            <button id="copyReferralBtn">Copy Link</button>
          </div>
          <div class="card dark full">
            <h3>â„¹ï¸ About WarpAi & WAI</h3>
            <p>
              WarpAi tracks your onchain activity.<br>
              Earn XP for every interaction.<br>
              Claim WAI tokens daily.<br>
              Unlock premium perks and level up.
            </p>
          </div>
        </div>
      </section>

      <!-- TRACK -->
      <section class="tab-content track" data-tab="track" style="display: none;">
        <div class="track-grid">
          <div class="card dark">
            <h3>Tokens Minted</h3>
            <p id="tokensMinted">0 st</p>
          </div>
          <div class="card dark">
            <h3>ETH Moved</h3>
            <p id="ethMoved">0 ETH total</p>
          </div>
          <div class="card dark">
            <h3>Gas Spent</h3>
            <p id="gasSpent">0 ETH</p>
          </div>
          <div class="card dark">
            <h3>Connected dApps</h3>
            <ul id="connectedDapps">
              <li>-</li>
            </ul>
          </div>
          <div class="card dark full">
            <div class="track-header-row">
              <h3>ğŸ“œ Latest Activity</h3>
              <button id="refreshTrackBtn">â†»</button>
            </div>
            <p id="latestActivity">No recent tx</p>
            <small id="activityResult">$0</small>
          </div>
        </div>
      </section>

      <!-- REWARDS -->
      <section class="tab-content rewards" data-tab="rewards" style="display: none;">
        <div class="hero">
          <h2>ğŸš€ Rewards, Streaks & XP</h2>
        </div>
        <div class="card-grid">
          <div class="card dark full earn">
            <h3>ğŸš€ Earn More WAI</h3>
            <p>Share the app and invite friends to earn WarpAi Tokens.</p>
            <button id="copyReferralBtn">Copy Referral Link</button>
            <button id="shareOnXBtn">Share on X</button>
            <button id="shareOnFarcasterBtn">Share on Farcaster</button>
          </div>
          <div class="card dark">
            <h3>ğŸ† Referral Stats</h3>
            <p>Friends invited: 3</p>
            <p>Total earned: 15 WAI</p>
          </div>
        </div>
      </section>

      <!-- PREMIUM -->
      <section class="tab-content premium" data-tab="premium" style="display: none;">
        <div class="hero">
          <h2>ğŸ’ Premium Tools</h2>
        </div>
        <div class="card-grid">
          <div class="card dark">
            <h3>ğŸ”’ Wallet Tracker<br><span style="color: orange;">Premium</span></h3>
            <p>Track any public address</p>
          </div>
          <div class="card dark">
            <h3>ğŸ”’ Multi-Wallet Support<br><span style="color: orange;">Premium</span></h3>
            <p>Claim & manage more wallets</p>
          </div>
          <div class="card dark">
            <h3>ğŸ”’ Full Analytics<br><span style="color: orange;">Premium</span></h3>
            <p>Win/Loss, gas, performance over time</p>
          </div>
          <div class="card dark">
            <h3>ğŸ”’ Advanced Alerts<br><span style="color: orange;">Premium</span></h3>
            <p>Set alerts for any wallet</p>
          </div>
          <div class="card dark full">
            <h3>ğŸ” Followed Wallets <span style="color: orange;">(Premium)</span></h3>
            <p style="font-size: 0.9rem;">See recent activity for wallets you follow</p>
            <ul id="followedWallets" style="text-align: left; font-size: 0.75rem; padding-left: 1rem;">
              <li><strong>0xFanArt.eth</strong> â€“ Minted on Zora</li>
              <li><strong>0xCollector42</strong> â€“ Bought token on OpenSea</li>
              <li><strong>0xAIHunter</strong> â€“ Bridged 0.5 ETH to Base</li>
            </ul>
            <div style="margin-top: 0.5rem;">
              <button id="addWalletBtn" disabled style="opacity: 0.6; cursor: not-allowed;">â• Add Wallet (Premium)</button>
            </div>
          </div>
          <div class="card full highlighted-premium" style="margin-top: 1rem;">
            <h3>ğŸ”“ Unlock Premium Access</h3>
            <p>One-time $5 to unlock everything:</p>
            <ul>
              <li>ğŸ§  Track any wallet</li>
              <li>ğŸ“Š View advanced analytics</li>
              <li>â›½ Analyze gas across dApps</li>
              <li>ğŸ“¦ Get full claim history & reports</li>
            </ul>
            <button id="upgradeBtn" class="upgrade-button-green">Upgrade Now</button>
          </div>
        </div>
      </section>

      <!-- PROFILE -->
      <section class="tab-content profile" data-tab="profile" style="display: none;">
        <div class="hero">
          <h2>ğŸ‘¤ My Profile</h2>
        </div>
        <div class="card-grid">
          <div class="card dark">
            <h3>Wallet</h3>
            <p id="walletAddress">Not Connected</p>
            <p>Total XP: <strong id="totalXP">0</strong></p>
          </div>
          <div class="card dark">
            <h3>WarpAi Token</h3>
            <p id="waiBalance">Balance: 0 WAI</p>
            <p>Level Bonus: 10%</p>
          </div>
          <div class="card dark">
            <h3>Claim Token</h3>
            <p>Reward: 5 WAI</p>
            <button id="claimTokenBtn">Claim</button>
          </div>
          <div class="card dark">
            <h3>Share Link</h3>
            <p>Earn 5 WAI per share</p>
            <button id="shareOnFarcasterBtn">Share on Farcaster</button>
            <button id="shareOnXBtn">Share on X</button>
          </div>
          <div class="card dark full premium">
            <h3>ğŸ“¦ Claim History</h3>
            <ul id="claimHistory">
              <li>No claims yet</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- MODALS -->
      <div id="faqModal" class="modal hidden">
        <div class="modal-content">
          <h3>â“ How WarpAi Works</h3>
          <ul>
            <li><strong>XP:</strong> Earned daily via login, invites, and actions.</li>
            <li><strong>WAI Tokens:</strong> Earned through shares and claims.</li>
            <li><strong>Premium:</strong> Unlock extra tools and 2x XP.</li>
          </ul>
          <button onclick="toggleFAQ()">Close</button>
        </div>
      </div>

      <div id="xpInfoModal" class="modal hidden">
        <div class="modal-content">
          <h3>â„¹ï¸ XP & WAI Info</h3>
          <ul>
            <li><strong>XP:</strong> Earned from wallet activity and daily logins.</li>
            <li><strong>WAI:</strong> Tokens earned via referrals and claims, usable for premium.</li>
            <li><strong>Level Up:</strong> Reach 200 XP for next level and perks!</li>
          </ul>
          <button onclick="toggleXpInfo()">Close</button>
        </div>
      </div>

      <div id="warpInfoModal" class="modal hidden">
        <div class="modal-content">
          <h3>Buy WarpAi Token</h3>
          <p>Purchase WarpAi Token on Zora!</p>
          <ul>
            <li><strong>Price:</strong> 0.01 ETH per 100 $WARP</li>
            <li><strong>Use:</strong> Unlock premium, boost XP, or trade.</li>
            <li><strong>Zora:</strong> <a href="https://zora.co/coin/base:0x0cd1e9c691af8d4d34efcc089a40b31c691d0482?referrer=0xa8b817f09702c8d77fdb6d7d677a30cba5c9d7b9" target="_blank">Buy on Zora</a></li>
          </ul>
          <button onclick="toggleWarpInfo()">Close</button>
        </div>
      </div>

      <!-- QR Code Modal -->
      <div id="qrModal" class="modal hidden">
        <div class="modal-content">
          <h3>Scan QR Code to Connect Wallet</h3>
          <div id="qrCode"></div>
          <button onclick="closeQrModal()">Close</button>
        </div>
      </div>
    </main>
  </div>

  <!-- Externa skript -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@2.10.0/dist/umd/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.0/build/qrcode.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
